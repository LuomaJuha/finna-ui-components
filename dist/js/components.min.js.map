{"version":3,"sources":["source/components/molecules/navigation/finna-multiselect/finna-multiselect.js"],"names":["MultiSelect","HTMLElement","constructor","super","this","entries","JSON","parse","dataset","regExp","RegExp","words","wordCache","active","clicked","fieldSet","document","createElement","append","id","labelId","label","setAttribute","textContent","labelText","select","style","display","name","search","searchForm","classList","add","placeholder","ul","multiSelect","clear","clearButton","clearText","createSelect","setEvents","setEntries","setLabel","setSearch","input","setClear","index","levelCache","previousElement","currentParent","forEach","entry","innerValue","createTextNode","displayText","nodeValue","option","value","isSelected","selected","multiOption","reference","formatted","getAttribute","level","parseInt","group","previousClone","cloneNode","innerHTML","removeAttribute","remove","pop","push","insertAdjacentElement","closest","addEventListener","e","preventDefault","stopPropagation","focus","passive","setActive","querySelector","scrollList","target","contains","setSelected","clearActives","clearCaches","keyLower","key","toLowerCase","test","charCache","hasActive","length","char","lookFor","indexOf","current","includes","direction","searchInterval","clearInterval","setTimeout","showParent","element","child","firstChild","parentNode","parents","querySelectorAll","parent","matches","String","toggle","clip","window","getComputedStyle","top","getPropertyValue","offsetTop","parseFloat","scrollTop","_","customElements","define"],"mappings":"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","file":"components.min.js"}